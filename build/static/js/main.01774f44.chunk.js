(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{197:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);n(197);var c=n(293),r=n(1),s=n(89),a=n.n(s),i=n(297),o=n(271),l=n(273),j=n(27),b=n(26),d=n(7),u=n(58),x=n.n(u),h=n(2),O=Object(r.createContext)({}),p=function(e){var t=e.children,n=Object(r.useState)(),c=Object(d.a)(n,2),s=c[0],a=c[1];return Object(r.useEffect)((function(){x.a.get("http://localhost:4000/auth/getuser/",{withCredentials:!0}).then((function(e){e.data&&a(e.data)}))}),[]),Object(h.jsx)(O.Provider,{value:s,children:t})},m=n(270),g=Object(m.a)({initialColorMode:"light",useSystemColorMode:!0,fonts:{body:"Nunito , sans-serif",heading:"Montserrat, serif",mono:"Menlo, monospace"}}),f=n(298),y=n(274),v=n(275),w=n(168);function k(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(o.a,{maxW:"3xl",children:Object(h.jsxs)(f.b,{as:l.a,textAlign:"center",spacing:{base:8,md:14},py:{base:20,md:36},children:[Object(h.jsxs)(y.a,{fontWeight:600,fontSize:{base:"2xl",sm:"4xl",md:"6xl"},lineHeight:"110%",children:["Fakr ",Object(h.jsx)("br",{}),Object(h.jsx)(v.a,{as:"span",fontSize:"",color:"blue.400",children:"Find your audience"})]}),Object(h.jsx)(v.a,{color:"gray.500",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Earum distinctio, esse ipsa quod ratione tempora repudiandae dicta nesciunt molestias recusandae. Ea nesciunt quasi delectus autem atque! Amet corporis quibusdam voluptatibus."}),Object(h.jsx)(f.b,{direction:"column",spacing:3,align:"center",alignSelf:"center",position:"relative",children:Object(h.jsx)(w.a,{colorScheme:"blue",bg:"blue.400",rounded:"full",px:6,_hover:{bg:"blue.500"},as:j.b,to:"/login",children:"Get Started"})})]})})})}var C=n(29),S=n.n(C),P=n(53),z=n(31),L=n(276),I=n(256),A=n(277),U=n(96),F=n(278),q=n(279),R=n(11),$=n(92),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.useState)(t),c=Object(d.a)(n,2),s=c[0],a=c[1],i=function(e){a(Object($.a)(Object($.a)({},s),{},Object(R.a)({},e.target.name,e.target.value)))},o=function(t){t.preventDefault(),e()};return{handleChange:i,onSubmit:o,values:s}},W=function(){var e=Object(P.a)(S.a.mark((function e(t,n){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()({method:"POST",data:{username:t,password:n},withCredentials:!0,url:"http://localhost:4000/auth/login"});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],o=a[1],b=T(function(){var e=Object(P.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(O.loginUsername,O.loginPassword);case 2:if(t=e.sent,console.log(t),"success"!==t){e.next=10;break}c(!1),o(""),window.location="/feed",e.next=13;break;case 10:return c(!0),o(t),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{loginUsername:"",loginPassword:""}),u=b.onSubmit,x=b.handleChange,O=b.values;return Object(h.jsx)(L.a,{minH:"92vh",justify:"center",bg:Object(I.c)("gray.50","gray.800"),children:Object(h.jsxs)(f.b,{spacing:8,mx:"auto",mt:"6",maxW:"lg",py:12,px:6,children:[Object(h.jsxs)(f.b,{align:"center",children:[Object(h.jsx)(y.a,{textAlign:"center",fontSize:"4xl",children:"Sign in to your account"}),Object(h.jsxs)(v.a,{fontSize:"lg",color:"gray.600",children:["to enjoy all of our cool ",Object(h.jsx)(A.a,{color:"blue.400",children:"features"})," \u270c\ufe0f"]})]}),Object(h.jsx)(l.a,{rounded:"lg",bg:Object(I.c)("white","gray.700"),boxShadow:"lg",p:6,children:Object(h.jsxs)(f.b,{spacing:4,children:[Object(h.jsxs)(U.a,{isInvalid:n,id:"username",children:[Object(h.jsx)(F.a,{children:"Username"}),Object(h.jsx)(q.a,{name:"loginUsername",value:O.loginUsername,onChange:x,type:"text"}),Object(h.jsx)(U.b,{color:"crimson",children:i})]}),Object(h.jsxs)(U.a,{isInvalid:n,id:"password",children:[Object(h.jsx)(F.a,{children:"Password"}),Object(h.jsx)(q.a,{name:"loginPassword",value:O.loginPassword,onChange:x,type:"password"}),Object(h.jsx)(U.b,{color:"crimson",children:i})]}),Object(h.jsx)(w.a,{size:"lg",onClick:u,leftIcon:Object(h.jsx)(z.e,{}),children:"Login"}),Object(h.jsx)(A.a,{as:j.b,to:"/register",color:"blue.400",alignSelf:"center",children:"Register for an account"}),Object(h.jsx)(w.a,{size:"lg",onClick:function(){window.open("http://localhost:4000/auth/github","_self")},leftIcon:Object(h.jsx)(z.b,{}),children:"Login with Github"}),Object(h.jsx)(w.a,{size:"lg",colorScheme:"twitter",onClick:function(){window.open("http://localhost:4000/auth/twitter","_self")},leftIcon:Object(h.jsx)(z.g,{}),children:"Login with Twitter"})]})})]})})},M=n(281),D=n(280),E=n(295),H=n(285),N=n(282),_=n(283),G=function(e){var t=Object(I.b)().toggleColorMode,n=Object(I.c)("dark","light"),c=Object(I.c)(z.c,z.f);return Object(h.jsx)(D.a,Object($.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",rounded:"full",color:"current",marginLeft:"2",onClick:t,icon:Object(h.jsx)(c,{})},e))},Q=[{name:"Home",link:"/"},{name:"Login",link:"/login"}],J=[{name:"Recent Posts",link:"/feed"},{name:"Following",link:"/feed"}],Y=function(e){var t=e.children,n=e.onClose;return Object(h.jsx)(A.a,{px:2,py:1,rounded:"md",fontSize:"md",_hover:{textDecoration:"none",bg:Object(I.c)("gray.200","gray.700")},onClick:n,as:j.b,to:t.link,children:t.name})};function K(){var e=Object(M.a)(),t=e.isOpen,n=e.onOpen,c=e.onClose,s=Object(r.useContext)(O),a=s?J:Q;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{bg:Object(I.c)("gray.100","gray.900"),position:"fixed",px:4,w:"100%",zIndex:"10",boxShadow:"lg",children:[Object(h.jsxs)(L.a,{h:16,alignItems:"center",justifyContent:"space-between",children:[Object(h.jsx)(D.a,{size:"md",icon:t?Object(h.jsx)(N.a,{}):Object(h.jsx)(_.a,{}),"aria-label":"Open Menu",display:{md:t?"inherit":"none"},onClick:t?c:n}),Object(h.jsx)(f.a,{spacing:8,alignItems:"center",children:Object(h.jsx)(f.a,{as:"nav",spacing:4,display:{base:"none",md:"flex"},children:a.map((function(e){return Object(h.jsx)(Y,{children:e},e)}))})}),Object(h.jsxs)(f.a,{children:[Object(h.jsx)(G,{}),s&&Object(h.jsxs)(E.a,{children:[Object(h.jsx)(E.b,{as:w.a,rounded:"full",variant:"link",cursor:"pointer",children:Object(h.jsx)(H.a,{size:"sm",src:s.photos})}),Object(h.jsxs)(E.f,{fontSize:"lg",children:[Object(h.jsxs)(E.d,{title:s.displayName,children:[Object(h.jsx)(E.e,{as:j.b,to:"/profile/".concat(s.username),icon:Object(h.jsx)(z.e,{}),children:"Profile"}),Object(h.jsx)(E.e,{icon:Object(h.jsx)(z.a,{}),children:"Settings"})]}),Object(h.jsx)(E.c,{}),Object(h.jsx)(E.e,{onClick:function(){x.a.get("http://localhost:4000/auth/logout",{withCredentials:!0}).then((function(e){e.data&&(console.log(e),window.location.href="/")}))},children:"Logout"})]})]})]})]}),t?Object(h.jsx)(l.a,{pb:4,children:Object(h.jsx)(f.b,{as:"nav",spacing:4,children:a.map((function(e){return Object(h.jsx)(Y,{onClose:c,children:e},e)}))})}):null]})})}var V,X,Z,ee,te,ne,ce,re=n(21),se=n(67),ae=Object(re.gql)(V||(V=Object(se.a)(["\n  query {\n    getPosts {\n      id\n      postType\n      title\n      body\n      liveLink\n      repoLink\n      photoURL\n      createdAt\n      username\n      userPhoto\n      likes {\n        id\n        createdAt\n        userPhoto\n        username\n      }\n      likeCount\n      comments {\n        id\n        createdAt\n        username\n        body\n      }\n      commentCount\n    }\n  }\n"]))),ie=Object(re.gql)(X||(X=Object(se.a)(["\n  mutation createComment($postId: ID!, $body: String!) {\n    createComment(postId: $postId, body: $body) {\n      id\n      comments {\n        id\n        createdAt\n        username\n        body\n        userPhoto\n      }\n      commentCount\n    }\n  }\n"]))),oe=Object(re.gql)(Z||(Z=Object(se.a)(["\n  mutation likePost($postId: ID!) {\n    likePost(postId: $postId) {\n      id\n      likes {\n        id\n        createdAt\n        userPhoto\n        username\n      }\n      likeCount\n    }\n  }\n"]))),le=Object(re.gql)(ee||(ee=Object(se.a)(["\n  mutation createPost(\n    $postType: String!\n    $title: String!\n    $body: String!\n    $liveLink: String!\n    $repoLink: String!\n    $photoURL: String!\n  ) {\n    createPost(\n      postType: $postType\n      title: $title\n      body: $body\n      liveLink: $liveLink\n      repoLink: $repoLink\n      photoURL: $photoURL\n    ) {\n      id\n      postType\n      title\n      body\n      liveLink\n      repoLink\n      photoURL\n      createdAt\n      username\n      userPhoto\n      likes {\n        id\n        createdAt\n        username\n      }\n      likeCount\n      comments {\n        id\n        createdAt\n        username\n        body\n      }\n      commentCount\n    }\n  }\n"]))),je=(Object(re.gql)(te||(te=Object(se.a)(["\n  query getPostsByUser($username: String!) {\n    getPostsByUser(username: $username) {\n      id\n      postType\n      title\n      body\n      liveLink\n      repoLink\n      photoURL\n      createdAt\n      username\n      userPhoto\n      likes {\n        id\n        createdAt\n        username\n        userPhoto\n      }\n      likeCount\n      comments {\n        id\n        createdAt\n        username\n        body\n      }\n      commentCount\n    }\n  }\n"]))),Object(re.gql)(ne||(ne=Object(se.a)(["\n  query getPost($postId: ID!) {\n    getPost(postId: $postId) {\n      id\n      postType\n      title\n      body\n      liveLink\n      repoLink\n      photoURL\n      createdAt\n      username\n      userPhoto\n\n      likes {\n        id\n        createdAt\n        username\n        userPhoto\n      }\n      likeCount\n      comments {\n        id\n        createdAt\n        username\n        body\n        userPhoto\n      }\n      commentCount\n    }\n  }\n"])))),be=n(257),de=n(288),ue=n(81),xe=n.n(ue),he=n(289),Oe=n(286),pe=n(169),me=n(296),ge=n(133),fe=function(e){var t=e.user,n=e.post,c=n.id,s=n.likeCount,a=n.likes,i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],b=o[1];Object(r.useEffect)((function(){console.log({id:c,likeCount:s,likes:a}),t&&a.find((function(e){return e.username===t.username}))?b(!0):b(!1)}),[t,a]);var u=Object(re.useMutation)(oe,{variables:{postId:c}}),x=Object(d.a)(u,1)[0];return Object(h.jsxs)(pe.a,{size:"md",isAttached:!0,variant:"outline",children:[Object(h.jsx)(D.a,{"aria-label":"Add to friends",onClick:x,icon:l?Object(h.jsx)(ge.b,{color:"#E53E3E",style:{animation:"appear 500ms ease"}}):Object(h.jsx)(ge.a,{style:{animation:"appear 500ms ease"}})}),a.length>0?Object(h.jsxs)(E.a,{children:[Object(h.jsx)(E.b,{as:w.a,mr:"-px",children:s}),Object(h.jsx)(E.f,{children:a.map((function(e){return Object(h.jsxs)(E.e,{fontSize:"md",minH:"40px",as:j.b,to:"/profile/".concat(e.username),children:[Object(h.jsx)(Oe.a,{boxSize:"2rem",borderRadius:"full",objectFit:"cover",src:e.userPhoto,alt:e.username,mr:"12px"}),Object(h.jsxs)("span",{children:["@",e.username]})]})}))})]}):Object(h.jsx)(w.a,{mr:"-px",children:s})]})},ye=n(25),ve=n(70),we=n(176),ke=n(287),Ce=n(61),Se=Object(ve.a)(ce||(ce=Object(se.a)(["\n  mutation deletePost($postId: ID!) {\n    deletePost(postId: $postId)\n  }\n"]))),Pe=function(e){var t=e.postId,n=(e.commentId,e.callback),c=Object(M.a)(),s=c.isOpen,a=c.onOpen,i=c.onClose,o=Object(r.useRef)(),l=Object(re.useMutation)(Se,{update:function(e){i();var c=e.readQuery({query:ae}).getPosts.filter((function(e){return e.id!==t}));e.writeQuery({query:ae,data:{getPosts:Object(ye.a)(c)}}),n&&n()},variables:{postId:t}}),j=Object(d.a)(l,1)[0];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(D.a,{size:"md","aria-label":"Add to friends",colorScheme:"red",icon:Object(h.jsx)(we.a,{}),onClick:a}),Object(h.jsxs)(ke.a,{motionPreset:"slideInBottom",leastDestructiveRef:o,onClose:i,isOpen:s,isCentered:!0,children:[Object(h.jsx)(Ce.g,{}),Object(h.jsxs)(ke.b,{children:[Object(h.jsx)(Ce.f,{children:"Delete Post?"}),Object(h.jsx)(Ce.c,{}),Object(h.jsx)(Ce.b,{children:"Are you sure you want to delete this post? This operation is final."}),Object(h.jsxs)(Ce.e,{children:[Object(h.jsx)(w.a,{ref:o,onClick:i,children:"No"}),Object(h.jsx)(w.a,{colorScheme:"red",onClick:j,ml:3,children:"Yes"})]})]})]})]})};function ze(e){var t=e.post,n=Object(r.useState)(!1),c=Object(d.a)(n,2),s=c[0],a=c[1],i=Object(r.useContext)(O);return Object(h.jsxs)(h.Fragment,{children:[!s&&Object(h.jsx)(de.a,{h:"600px",children:Object(h.jsx)(be.a,{})}),Object(h.jsx)(de.a,{style:{opacity:s?"1":"0",transition:"opacity 250ms ease-in"},children:Object(h.jsxs)(l.a,{maxW:"full",w:"full",boxShadow:"lg",bg:Object(I.c)("gray.50","gray.900"),rounded:"md",p:6,overflow:"hidden",children:[Object(h.jsx)(l.a,{bg:"gray.100",mt:-6,mx:-6,mb:6,pos:"relative",children:Object(h.jsx)(Oe.a,{onLoad:function(){return a(!0)},src:t.photoURL,objectFit:"cover"})}),Object(h.jsxs)(f.b,{children:[Object(h.jsx)(v.a,{textTransform:"uppercase",fontWeight:800,fontSize:"xs",fontFamily:"heading",letterSpacing:1.1,children:t.postType}),Object(h.jsx)(y.a,{color:Object(I.c)("gray.700","white"),fontSize:"xl",children:t.title}),Object(h.jsx)(v.a,{color:"gray.500",children:"".concat(t.body.substring(0,150),"...")})]}),Object(h.jsxs)(f.b,{mt:6,direction:"row",spacing:4,align:"center",children:[Object(h.jsx)(H.a,{src:t.userPhoto,alt:"Author"}),Object(h.jsxs)(f.b,{direction:"column",spacing:0,fontSize:"sm",children:[Object(h.jsx)(v.a,{as:j.b,to:"/profile/".concat(t.username),fontWeight:600,fontSize:"sm",children:"@".concat(t.username)}),Object(h.jsx)(v.a,{color:"gray.500",children:Object(me.a)(new Date(t.createdAt),new Date,{addSuffix:!0})})]})]}),Object(h.jsxs)(f.b,{mt:6,direction:"row",justify:"space-between",align:"center",children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)(fe,{user:i,post:t}),Object(h.jsxs)(pe.a,{size:"md",isAttached:!0,variant:"outline",children:[Object(h.jsx)(D.a,{"aria-label":"Add to friends",icon:Object(h.jsx)(z.d,{})}),Object(h.jsx)(w.a,{mr:"-px",children:t.commentCount})]})]}),Object(h.jsxs)(f.a,{children:[i.username===t.username&&Object(h.jsx)(Pe,{postId:t.id}),Object(h.jsx)(D.a,{as:j.b,to:"/post/".concat(t.id),size:"md","aria-label":"Add to friends",icon:Object(h.jsx)(he.a,{})})]})]})]})})]})}var Le=n(178),Ie=function(e){var t=e.history;return Object(h.jsx)(l.b,{position:"fixed",bottom:"10",right:"30px",size:"70px",opacity:".8",colorScheme:"red",color:"white",as:w.a,onClick:function(){return t.push("/create")},_hover:{opacity:"1",transform:"scale(1.2)"},children:Object(h.jsx)(Le.a,{size:"50px"})})},Ae=function(e){var t=e.history,n=Object(re.useQuery)(ae),c=n.loading,r=n.error,s=n.data,a=(s=void 0===s?{}:s).getPosts;return r?Object(h.jsx)("p",{children:r}):c?Object(h.jsx)(de.a,{height:"90vh",w:"100vw",children:Object(h.jsx)(be.a,{size:"lg"})}):(a&&console.log(a),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ue.ResponsiveMasonry,{style:{width:"100%",marginBottom:"80px"},columnsCountBreakPoints:{350:1,800:2,1100:3},children:Object(h.jsx)(xe.a,{gutter:"20px",children:a.map((function(e){return Object(h.jsx)(ze,{post:e},e.id)}))})}),Object(h.jsx)(Ie,{history:t})]}))},Ue=n(179),Fe=function(){var e=Object(P.a)(S.a.mark((function e(t){var n,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t);case 2:return n=e.sent,e.next=5,x.a.get("http://localhost:4000/s3Url");case 5:return c=e.sent,r=c.data.url,e.next=9,fetch(r,{method:"PUT",headers:{"Content-Type":"multipart/form-data"},body:n});case 9:return e.abrupt("return",r.split("?")[0]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function qe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(P.a)(S.a.mark((function e(t){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("originalFile instanceof Blob",t instanceof Blob),console.log("originalFile size ".concat(t.size/1024/1024," MB")),n={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0},e.prev=3,e.next=6,Object(Ue.a)(t,n);case 6:return c=e.sent,console.log("compressedFile instanceof Blob",c instanceof Blob),console.log("compressedFile size ".concat(c.size/1024/1024," MB")),e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}var $e=function(e){var t=e.setFileUrl,n=e.width,c=void 0===n?"":n,s=e.text,a=void 0===s?"Upload Profile Picture":s,i=Object(r.useRef)(null),o=Object(r.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1],u=function(){var e=Object(P.a)(S.a.mark((function e(n){var c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!(c=n.target.files[0]).name){e.next=8;break}return e.next=5,Fe(c);case 5:return r=e.sent,e.next=8,t(r);case 8:b(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{ref:i,onChange:u,type:"file",accept:"image/*",style:{display:"none"},multiple:!1}),Object(h.jsx)(w.a,{w:c,isLoading:j,onClick:function(){return i.current.click()},children:a})]})},Te=function(e){var t=e.fileUrl,n=e.setFileUrl;return Object(h.jsxs)(L.a,{alignItems:"center",justifyContent:"space-around",children:[Object(h.jsx)(H.a,{size:"lg",src:t}),Object(h.jsx)($e,{setFileUrl:n})]})},We=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],o=a[1],j=Object(r.useState)(""),b=Object(d.a)(j,2),u=b[0],O=b[1],p=Object(r.useState)(!1),m=Object(d.a)(p,2),g=m[0],v=m[1],k=T(function(){var e=Object(P.a)(S.a.mark((function e(){var t,n,r,s,a,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R.registerPassword,n=R.confirmPassword,r=R.registerUsername,s=R.displayName,!(u.length<2)){e.next=4;break}return c(!0),e.abrupt("return");case 4:if(!(t.length<6)){e.next=8;break}return c(!0),o("Password must be at least 6 characters"),e.abrupt("return");case 8:if(t===n){e.next=12;break}return c(!0),o("Passwords must match"),e.abrupt("return");case 12:return c(!1),o(""),v(!0),e.next=17,x()({method:"POST",data:{username:r,password:t,displayName:s,photos:u},withCredentials:!0,url:"http://localhost:4000/auth/register"});case 17:if(a=e.sent,console.log(a),"success"!==a.data){e.next=27;break}return e.next=22,new Promise((function(e){return setTimeout(e,500)}));case 22:return e.next=24,W(r,t);case 24:i=e.sent,console.log(i),"success"===i&&(v(!1),window.location="/feed");case 27:v(!1);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{registerUsername:"",displayName:"",registerPassword:"",confirmPassword:""}),C=k.onSubmit,A=k.handleChange,R=k.values;return Object(h.jsx)(L.a,{minH:"92vh",justify:"center",bg:Object(I.c)("gray.50","gray.800"),children:Object(h.jsxs)(f.b,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(h.jsx)(f.b,{align:"center",children:Object(h.jsx)(y.a,{textAlign:"center",fontSize:"4xl",children:"Sign up for an account"})}),Object(h.jsx)(l.a,{rounded:"lg",bg:Object(I.c)("white","gray.700"),boxShadow:"lg",p:6,children:Object(h.jsxs)(f.b,{spacing:4,children:[Object(h.jsx)(Te,{fileUrl:u,setFileUrl:O}),Object(h.jsxs)(U.a,{isRequired:!0,id:"username",children:[Object(h.jsx)(F.a,{children:"Username"}),Object(h.jsx)(q.a,{type:"text",name:"registerUsername",value:R.registerUsername,onChange:A})]}),Object(h.jsxs)(U.a,{isRequired:!0,id:"displayName",children:[Object(h.jsx)(F.a,{children:"Display Name"}),Object(h.jsx)(q.a,{type:"text",name:"displayName",value:R.displayName,onChange:A})]}),Object(h.jsxs)(U.a,{isRequired:!0,isInvalid:n,id:"password",children:[Object(h.jsx)(F.a,{children:"Password"}),Object(h.jsx)(q.a,{errorBorderColor:"crimson",name:"registerPassword",value:R.registerPassword,onChange:A,type:"password"}),Object(h.jsx)(U.b,{color:"crimson",children:i})]}),Object(h.jsxs)(U.a,{isInvalid:n,isRequired:!0,id:"confirmPassword",children:[Object(h.jsx)(F.a,{children:"Confirm Password"}),Object(h.jsx)(q.a,{errorBorderColor:"crimson",type:"password",name:"confirmPassword",value:R.confirmPassword,onChange:A}),Object(h.jsx)(U.b,{color:"crimson",children:i})]}),Object(h.jsx)(w.a,{size:"lg",isLoading:g,leftIcon:Object(h.jsx)(z.e,{}),onClick:C,children:"Register"})]})})]})})},Be=n(290),Me=n(118),De=function(e){var t=e.history,n=Object(r.useState)(""),c=Object(d.a)(n,2),s=c[0],a=c[1],i=T((function(){O(),p&&console.log(p),t.push("/feed")}),{title:"",body:"",liveLink:"",repoLink:""}),o=i.onSubmit,l=i.handleChange,b=i.values,u=Object(re.useMutation)(le,{variables:{postType:"Project Showcase",title:b.title,body:b.body,liveLink:b.liveLink,repoLink:b.repoLink,photoURL:s},update:function(e,t){var n=e.readQuery({query:ae});e.writeQuery({query:ae,data:{getPosts:[t.data.createPost].concat(Object(ye.a)(n.getPosts))}}),b.body=""},onError:function(e){return e}}),x=Object(d.a)(u,2),O=x[0],p=x[1].error;return Object(h.jsxs)(f.c,{w:"full",spacing:"24px",style:{animation:"appearSimple 500ms ease"},maxW:"container.sm",children:[Object(h.jsx)(D.a,{alignSelf:"flex-start",as:j.b,to:"/feed",size:"md","aria-label":"Add to friends",icon:Object(h.jsx)(Me.a,{})}),Object(h.jsxs)(U.a,{id:"title",children:[Object(h.jsx)(F.a,{children:"Project Title"}),Object(h.jsx)(q.a,{name:"title",value:b.title,onChange:l,type:"text"}),Object(h.jsx)(U.b,{children:"Give it a catchy name!"})]}),Object(h.jsx)(U.a,{id:"title",children:Object(h.jsx)($e,{width:"full",text:"Upload a Picture",setFileUrl:a})}),Object(h.jsx)(Oe.a,{rounded:"5",w:"full",src:s,objectFit:"cover"}),Object(h.jsxs)(U.a,{id:"body",children:[Object(h.jsx)(F.a,{children:"Project Description"}),Object(h.jsx)(Be.a,{name:"body",value:b.body,onChange:l,size:"lg",rows:"10",placeholder:"Here is a sample placeholder"})]}),Object(h.jsxs)(U.a,{id:"title",children:[Object(h.jsx)(F.a,{children:"Live Link"}),Object(h.jsx)(q.a,{name:"liveLink",value:b.liveLink,onChange:l,placeholder:"http://www.yourWebsiteHere.com",type:"text"}),Object(h.jsx)(U.b,{children:"Give it a catchy name!"})]}),Object(h.jsxs)(U.a,{id:"repoLink",children:[Object(h.jsx)(F.a,{children:"Github Repo"}),Object(h.jsx)(q.a,{name:"repoLink",value:b.repoLink,onChange:l,placeholder:"http://www.github.com/yourUsername/yourRepo",type:"text"}),Object(h.jsx)(U.b,{children:"Give it a catchy name!"})]}),Object(h.jsx)(w.a,{w:"full",onClick:o,colorScheme:"red",children:"Publish"})]})},Ee=n(291);function He(e){var t=e.username,n=e.userPhoto;return Object(h.jsx)(de.a,{children:Object(h.jsxs)(l.a,{w:"full",bg:Object(I.c)("gray.50","gray.900"),rounded:"lg",p:6,textAlign:"center",children:[Object(h.jsx)(H.a,{size:"xl",src:n,alt:"Avatar Alt",mb:4,pos:"relative",_after:{content:'""',w:4,h:4,bg:"green.300",border:"2px solid white",rounded:"full",pos:"absolute",bottom:0,right:3}}),Object(h.jsx)(y.a,{fontSize:"2xl",fontFamily:"body",children:t}),Object(h.jsx)(v.a,{fontWeight:600,color:"gray.500",mb:4,children:"@lindsey_jam3s"}),Object(h.jsx)(v.a,{textAlign:"center",color:Object(I.c)("gray.700","gray.400"),px:3,children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quae sit magnam odio esse id praesentium illum nobis alias unde eaque omnis quibusdam voluptate ratione magni itaque quas molestias, ex dolor tempore animi vel commodi?"}),Object(h.jsxs)(f.b,{align:"center",justify:"center",direction:"row",mt:6,children:[Object(h.jsx)(Ee.a,{px:2,py:1,bg:Object(I.c)("gray.50","gray.800"),fontWeight:"400",children:"#art"}),Object(h.jsx)(Ee.a,{px:2,py:1,bg:Object(I.c)("gray.50","gray.800"),fontWeight:"400",children:"#photography"}),Object(h.jsx)(Ee.a,{px:2,py:1,bg:Object(I.c)("gray.50","gray.800"),fontWeight:"400",children:"#music"})]}),Object(h.jsxs)(f.b,{mt:8,direction:"row",spacing:4,children:[Object(h.jsx)(w.a,{flex:1,fontSize:"sm",variant:"outline",_focus:{bg:"gray.200"},children:"Message"}),Object(h.jsx)(w.a,{flex:1,fontSize:"sm",children:"Follow"})]})]})})}var Ne=function(e){var t=e.history,n=Object(b.g)().username,c=Object(re.useQuery)(ae),r=c.loading,s=c.error,a=c.data,i=(a=void 0===a?{}:a).getPosts;if(s)return Object(h.jsx)("p",{children:s});if(r)return Object(h.jsx)(de.a,{height:"90vh",w:"100vw",children:Object(h.jsx)(be.a,{size:"lg"})});i&&console.log(i);var o=i.filter((function(e){return e.username===n}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ue.ResponsiveMasonry,{style:{width:"100%",marginBottom:"80px"},columnsCountBreakPoints:{350:1,850:2,1100:3},children:Object(h.jsxs)(xe.a,{gutter:"20px",children:[Object(h.jsx)(He,{username:n,userPhoto:o[0].userPhoto}),o.map((function(e){return Object(h.jsx)(ze,{post:e},e.id)}))]})}),Object(h.jsx)(Ie,{history:t})]})},_e=n(292),Ge=n(182),Qe=n(180),Je=n(16),Ye=function(e){var t=e.comment;return Object(h.jsxs)(L.a,{direction:{base:"column-reverse",md:"row"},width:"full",rounded:6,p:7,bg:Object(I.c)("gray.50","gray.900"),justifyContent:"space-between",position:"relative",children:[Object(h.jsxs)(L.a,{direction:"column",textAlign:"left",justifyContent:"space-between",children:[Object(h.jsx)(Je.a.p,{fontWeight:"medium",fontSize:"15px",pb:2,children:t.body}),Object(h.jsxs)(Je.a.p,{fontWeight:"bold",fontSize:14,children:["@",t.username]}),Object(h.jsx)(Je.a.p,{color:"GrayText",fontSize:14,children:Object(me.a)(new Date(t.createdAt),new Date,{addSuffix:!0})})]}),Object(h.jsx)(H.a,{src:t.userPhoto,size:"lg",alignSelf:"center",m:{base:"0 0 35px 0",md:"0 0 0 50px"}})]})},Ke=function(e){var t=e.post,n=Object(r.useState)(),c=Object(d.a)(n,2),s=c[0],a=c[1],i=Object(re.useMutation)(ie,{update:function(){a("")},variables:{postId:t.id,body:s}}),o=Object(d.a)(i,1)[0];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L.a,{w:"100%",align:"center",justify:"space-between",children:Object(h.jsx)(y.a,{fontSize:"2xl",children:"Comments"})}),Object(h.jsx)(_e.a,{}),Object(h.jsx)(U.a,{id:"body",children:Object(h.jsx)(Be.a,{value:s,onChange:function(e){return a(e.target.value)},name:"body",size:"lg",rows:"3",placeholder:"Here is a sample comment..."})}),Object(h.jsx)(L.a,{w:"100%",align:"center",justify:"flex-end",children:Object(h.jsx)(w.a,{onClick:o,w:"full",mb:4,rightIcon:Object(h.jsx)(Qe.a,{}),children:"Comment"})}),Object(h.jsx)(f.c,{w:"full",children:t.comments.map((function(e){return Object(h.jsx)(Ye,{comment:e},e.id)}))})]})},Ve=n(181),Xe=n.n(Ve),Ze=function(){var e=Object(b.g)().postId,t=Object(r.useContext)(O),n=Object(r.useState)(!1),c=Object(d.a)(n,2),s=c[0],a=c[1],i=Object(re.useQuery)(je,{variables:{postId:e}}),l=i.loading,u=i.error,x=i.data,p=(x=void 0===x?{}:x).getPost;if(u)return Object(h.jsx)("p",{children:u});if(l)return Object(h.jsx)(de.a,{height:"90vh",w:"100vw",children:Object(h.jsx)(be.a,{size:"lg"})});p&&console.log(p);var m=function(e){window.open(Xe()(e),"_blank")};return Object(h.jsxs)(h.Fragment,{children:[!s&&Object(h.jsx)(de.a,{h:"600px",children:Object(h.jsx)(be.a,{})}),Object(h.jsx)(o.a,{style:{opacity:s?"1":"0",transition:"opacity 250ms ease-in"},maxW:"container.md",children:Object(h.jsxs)(f.c,{spacing:4,children:[Object(h.jsxs)(f.c,{w:"100%",children:[Object(h.jsxs)(L.a,{w:"100%",align:"center",justify:"space-between",children:[Object(h.jsx)(y.a,{fontSize:"md",children:p.postType}),Object(h.jsxs)(L.a,{children:[Object(h.jsx)(fe,{post:p,user:t}),Object(h.jsx)(D.a,{ml:"2",as:j.b,to:"/feed",size:"md","aria-label":"Add to friends",icon:Object(h.jsx)(Me.a,{})})]})]}),Object(h.jsx)(L.a,{w:"100%",justify:"space-between",children:Object(h.jsx)(y.a,{fontSize:"3xl",children:p.title})}),Object(h.jsxs)(L.a,{w:"100%",h:"50px",justify:"flex-start",align:"center",children:[Object(h.jsx)(H.a,{size:"sm",src:p.userPhoto,mr:4}),Object(h.jsxs)(y.a,{justify:"left",fontFamily:"body",fontSize:"md",children:["By: ",p.username]})]}),Object(h.jsx)(_e.a,{})]}),Object(h.jsx)(Oe.a,{src:p.photoURL,rounded:8,onLoad:function(){return a(!0)}}),Object(h.jsxs)(pe.a,{w:"full",size:"sm",isAttached:!0,variant:"outline",children:[Object(h.jsx)(w.a,{size:"lg",w:"full",onClick:function(){return m(p.repoLink)},leftIcon:Object(h.jsx)(z.b,{}),children:"Github Repo Link"}),Object(h.jsx)(w.a,{size:"lg",onClick:function(){return m(p.liveLink)},w:"full",leftIcon:Object(h.jsx)(Ge.a,{}),children:"Live Website Link"})]}),Object(h.jsx)(v.a,{fontSize:"lg",fontFamily:"body",children:p.body}),Object(h.jsx)(L.a,{w:"100%",justify:"flex-start",align:"center"}),Object(h.jsx)(Ke,{post:p})]})})]})};function et(){var e=Object(b.f)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var tt=function(){var e=Object(r.useContext)(O);return Object(h.jsx)(i.a,{theme:g,children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(et,{}),Object(h.jsx)(K,{}),Object(h.jsxs)(o.a,{centerContent:!0,mb:14,maxW:"container.xl",children:[Object(h.jsx)(l.a,{h:"100px"}),Object(h.jsx)(b.b,{exact:!0,path:"/",children:e?Object(h.jsx)(b.a,{to:"/feed"}):Object(h.jsx)(k,{})}),e?Object(h.jsx)(b.a,{to:"/feed"}):Object(h.jsx)(b.b,{exact:!0,path:"/login",component:B}),e?Object(h.jsx)(b.a,{to:"/feed"}):Object(h.jsx)(b.b,{exact:!0,path:"/register",component:We}),e?Object(h.jsx)(b.b,{exact:!0,path:"/feed",component:Ae}):null,e?Object(h.jsx)(b.b,{exact:!0,path:"/create",component:De}):Object(h.jsx)(b.a,{to:"/"}),e?Object(h.jsx)(b.b,{exact:!0,path:"/profile/:username",component:Ne}):Object(h.jsx)(b.a,{to:"/"}),Object(h.jsx)(b.b,{exact:!0,path:"/post/:postId",component:Ze})]})]})})},nt=Object(re.createHttpLink)({uri:"http://localhost:4000/graphql",credentials:"include"}),ct=new re.ApolloClient({link:nt,cache:new re.InMemoryCache});a.a.render(Object(h.jsx)(r.StrictMode,{children:Object(h.jsx)(re.ApolloProvider,{client:ct,children:Object(h.jsxs)(p,{children:[Object(h.jsx)(c.a,{}),Object(h.jsx)(tt,{})]})})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.01774f44.chunk.js.map